{"version":3,"file":"js/105.68870de1.js","mappings":"yKAIM,SAAUA,IACd,MAAMC,GAAQC,EAAAA,EAAAA,KACd,OAAQC,IACDF,EAAMG,aAIPH,EAAMI,MACRF,KAGFG,EAAAA,EAAAA,KACE,IAAML,EAAMI,QACXA,GAAWA,EAAQF,IAASI,EAAAA,EAAAA,KAAY,CAAEC,KAAM,WATjDD,EAAAA,EAAAA,KAAY,CAAEC,KAAM,Y,oJCL1B,MAAMC,GAA0BC,EAAAA,EAAAA,GAAoB,MAAO,CAAEC,MAAO,WAAa,EAClED,EAAAA,EAAAA,GAAoB,KAAM,KAAM,uBAChCA,EAAAA,EAAAA,GAAoB,IAAK,KAAM,iDAC1C,GACEE,EAAa,CAAED,MAAO,mBACtBE,EAAa,CAAC,OACdC,EAAa,CAAEH,MAAO,eAS5B,OAA4BI,EAAAA,EAAAA,IAAiB,CAC3CC,MAAMC,GAER,MAAMhB,GAAQC,EAAAA,EAAAA,KACRgB,GAAUlB,EAAAA,EAAAA,KACVmB,GAASC,EAAAA,EAAAA,IAAI,IACbC,GAAQD,EAAAA,EAAAA,IAAI,GAGZE,IAFQF,EAAAA,EAAAA,IAAI,KACLA,EAAAA,EAAAA,IAAI,IACHA,EAAAA,EAAAA,IAAI,KAElBG,EAAAA,EAAAA,KAAU,KACRL,EAAQM,MAGV,MAAMA,EAAcC,UAClB,IACE,MAAMC,QAAiBC,IAAAA,IACrB,kDACA,CAAEC,QAAS,CAAEC,cAAe,UAAU5B,EAAMI,WAE9Cc,EAAOW,MAAQJ,EAASK,KAAKA,KAC7BV,EAAMS,MAAQJ,EAASK,KAAKV,MAC5BC,EAAMQ,MAAQJ,EAASK,KAAKT,MAC5B,MAAOU,GACPC,QAAQC,IAAIF,KAIhB,MAAO,CAACG,EAAUC,KAChB,MAAMC,GAAyBC,EAAAA,EAAAA,IAAkB,eAEjD,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,KAAM,CACzDhC,GACAC,EAAAA,EAAAA,GAAoB,MAAOE,EAAY,GACpC2B,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYvB,EAAOW,OAAQa,KACzEJ,EAAAA,EAAAA,OAAcK,EAAAA,EAAAA,IAAaP,EAAwB,CACzDQ,IAAKF,EAAKG,IACVC,GAAI,CACNvC,KAAM,aACNwC,OAAQ,CAAEC,GAAIN,EAAKG,OAEhB,CACDI,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAaC,EAAAA,EAAe,KAAM,CAChCC,OAAOH,EAAAA,EAAAA,KAAS,IAAM,EACpBzC,EAAAA,EAAAA,GAAoB,MAAO,CACzB6C,IAAK,QACLC,IAAKb,EAAKW,OACT,KAAM,EAAGzC,MAEdqC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBzC,EAAAA,EAAAA,GAAoB,KAAM,MAAM+C,EAAAA,EAAAA,IAAiBd,EAAKnC,MAAO,IAC7DE,EAAAA,EAAAA,GAAoB,IAAKI,GAAY2C,EAAAA,EAAAA,IAAiBd,EAAKe,aAAc,MAE3EC,EAAG,GACF,SAELA,EAAG,GACF,KAAM,CAAC,UACR,SAEL,QC3EL,MAAMC,EAAc,EAEpB","sources":["webpack://quiz/./src/composables/useGuard.ts","webpack://quiz/./src/views/UserQuizes.vue?9293","webpack://quiz/./src/views/UserQuizes.vue"],"sourcesContent":["import { watch } from \"vue\";\nimport router from \"@/router\";\nimport { useUserStore } from \"@/composables/store/useUserStore\";\n\nexport function useGuard() {\n  const store = useUserStore();\n  return (func: (...args: any[]) => void) => {\n    if (!store.refreshToken) {\n      router.push({ name: \"home\" });\n      return;\n    }\n    if (store.token) {\n      func();\n      return;\n    }\n    watch(\n      () => store.token,\n      (token) => (token ? func() : router.push({ name: \"home\" }))\n    );\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"welcome\" }, [\n  /*#__PURE__*/_createElementVNode(\"h1\", null, \"Welcome to Quizer!\"),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Here you can take quizes and make your own.\")\n], -1)\nconst _hoisted_2 = { class: \"cards-container\" }\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = { class: \"description\" }\n\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport { useUserStore } from \"@/composables/store/useUserStore\";\nimport { useGuard } from \"@/composables/useGuard\";\nimport CardComponent from \"@/components/CardComponent.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst store = useUserStore();\nconst onGuard = useGuard();\nconst quizes = ref([]);\nconst total = ref(0);\nconst limit = ref(25);\nconst page = ref(1);\nconst pages = ref(1);\n\nonMounted(() => {\n  onGuard(fetchQuizes);\n});\n\nconst fetchQuizes = async () => {\n  try {\n    const response = await axios.get(\n      `${process.env.VUE_APP_API_URL}/api/v1/quiz/myquizes`,\n      { headers: { authorization: `Bearer ${store.token}` } }\n    );\n    quizes.value = response.data.data;\n    total.value = response.data.total;\n    pages.value = response.data.pages;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(quizes.value, (quiz) => {\n        return (_openBlock(), _createBlock(_component_router_link, {\n          key: quiz._id,\n          to: {\n        name: 'editmyquiz',\n        params: { id: quiz._id },\n      }\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CardComponent, null, {\n              image: _withCtx(() => [\n                _createElementVNode(\"img\", {\n                  alt: \"image\",\n                  src: quiz.image\n                }, null, 8, _hoisted_3)\n              ]),\n              default: _withCtx(() => [\n                _createElementVNode(\"h2\", null, _toDisplayString(quiz.name), 1),\n                _createElementVNode(\"p\", _hoisted_4, _toDisplayString(quiz.description), 1)\n              ]),\n              _: 2\n            }, 1024)\n          ]),\n          _: 2\n        }, 1032, [\"to\"]))\n      }), 128))\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./UserQuizes.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UserQuizes.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./UserQuizes.vue?vue&type=style&index=0&id=7ed4b645&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useGuard","store","useUserStore","func","refreshToken","token","watch","router","name","_hoisted_1","_createElementVNode","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","setup","__props","onGuard","quizes","ref","total","pages","onMounted","fetchQuizes","async","response","axios","headers","authorization","value","data","error","console","log","_ctx","_cache","_component_router_link","_resolveComponent","_openBlock","_createElementBlock","_Fragment","_renderList","quiz","_createBlock","key","_id","to","params","id","default","_withCtx","_createVNode","CardComponent","image","alt","src","_toDisplayString","description","_","__exports__"],"sourceRoot":""}