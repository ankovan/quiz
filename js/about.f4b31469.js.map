{"version":3,"file":"js/about.f4b31469.js","mappings":"yKAIM,SAAUA,IACd,MAAMC,GAAQC,EAAAA,EAAAA,KACd,OAAQC,IACDF,EAAMG,aAIPH,EAAMI,MACRF,KAGFG,EAAAA,EAAAA,KACE,IAAML,EAAMI,QACXA,GAAWA,EAAQF,IAASI,EAAAA,EAAAA,KAAY,CAAEC,KAAM,WATjDD,EAAAA,EAAAA,KAAY,CAAEC,KAAM,Y,6JCL1B,MAAMC,EAAa,CAAEC,MAAO,gBACtBC,EAAa,CAAED,MAAO,QACtBE,EAAa,CAAC,OACdC,EAAa,CAAEH,MAAO,oBACtBI,EAAa,CAAEJ,MAAO,WACtBK,EAAa,CAAEL,MAAO,YACtBM,EAAa,CAAC,UAAW,YACzBC,GAA0BC,EAAAA,EAAAA,GAAoB,QAAS,CAC3DC,OAAQ,GACRC,KAAM,QACNZ,KAAM,UACL,MAAO,GACJa,EAAa,CAAEX,MAAO,SACtBY,EAAc,CAAEZ,MAAO,sBACvBa,EAAc,CAAEb,MAAO,mBACvBc,EAAc,CAAEd,MAAO,mBAS7B,OAA4Be,EAAAA,EAAAA,IAAiB,CAC3CC,MAAMC,IAEQ3B,EAAAA,EAAAA,KAAhB,MACM4B,GAAuBC,EAAAA,EAAAA,IAAI,GAC3BC,GAAkBD,EAAAA,EAAAA,IAAI,IACtBE,GAAQF,EAAAA,EAAAA,IAAI,GACZG,GAAUH,EAAAA,EAAAA,KAAI,GACdI,GAAaJ,EAAAA,EAAAA,KAAI,GACjBK,GAAQC,EAAAA,EAAAA,MACRC,GAAkBP,EAAAA,EAAAA,IAAI,CAAEQ,UAAW,KACnCC,GAAcT,EAAAA,EAAAA,KAAI,IAExBU,EAAAA,EAAAA,KAAU,KACRC,OAGF,MAAMC,EAAeC,IACnBT,EAAWU,OAAQ,EACfD,GAAeZ,EAAgBa,MAAMC,eACvCb,EAAMY,QACNb,EAAgBa,MAAME,QAAQH,GAAahC,MAAQ,SAEnDoB,EAAgBa,MAAME,QAAQH,GAAahC,MAAQ,QAErDoC,YAAW,KACTC,MACC,MAGCA,EAAkB,UACsCC,GAAxDZ,EAAKO,MAAMN,UAAUT,EAAqBe,MAAQ,GACpDX,EAAQW,OAAQ,GAEhBV,EAAWU,OAAQ,EACnBf,EAAqBe,QACrBb,EAAgBa,MAAQP,EAAKO,MAAMN,UAAUT,EAAqBe,SAGhEH,EAAYS,UAChB,IACE,MAAMC,QAAiBC,IAAAA,IACrB,0CAA8CjB,EAAMkB,OAAOC,MAE7DjB,EAAKO,MAAQO,EAASI,KAAKA,KAC3BC,QAAQC,IAAIN,EAASI,KAAKA,MAC1BxB,EAAgBa,MAAQP,EAAKO,MAAMN,UAAUT,EAAqBe,OAClE,MAAOc,GACPF,QAAQC,IAAIC,KAIhB,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOpD,EAAY,EAC3DS,EAAAA,EAAAA,GAAoB,MAAOP,EAAY,EACrCmD,EAAAA,EAAAA,IAAaC,EAAAA,EAAe,KAAM,CAChCC,OAAOC,EAAAA,EAAAA,KAAS,IAAM,EACpB/C,EAAAA,EAAAA,GAAoB,MAAO,CACzBgD,IAAK,MACLC,IAAK7B,EAAYK,MAAQP,EAAKO,MAAMqB,MAAQlC,EAAgBa,MAAMqB,OACjE,KAAM,EAAGpD,MAEdwD,SAASH,EAAAA,EAAAA,KAAS,IAAM,EACtBI,EAAAA,EAAAA,KAAgBnD,EAAAA,EAAAA,GAAoB,MAAOL,EAAY,EACrDK,EAAAA,EAAAA,GAAoB,MAAOJ,GAAYwD,EAAAA,EAAAA,IAAiB1C,EAAqBe,MAAQ,GAAK,OAAQ2B,EAAAA,EAAAA,IAAiBlC,EAAKO,MAAMN,UAAUkC,QAAS,IACjJrD,EAAAA,EAAAA,GAAoB,KAAMH,GAAYuD,EAAAA,EAAAA,IAAiBxC,EAAgBa,MAAM6B,UAAW,KACvFZ,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBY,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAY5C,EAAgBa,MAAME,SAAS,CAAC8B,EAAQC,MAClGhB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CnD,MAAO,kBACPmE,IAAKF,GACJ,EACDzD,EAAAA,EAAAA,GAAoB,QAAS,CAC3B4D,SAASC,EAAAA,EAAAA,KAAgBC,GAAiBvC,EAAYmC,IAAS,CAAC,YAChElE,OAAOuE,EAAAA,EAAAA,IAAgB,CAAC,iBAAkBN,EAAOjE,QACjDwE,SAAUjD,EAAWU,OACpB,CACD1B,GACAkE,EAAAA,EAAAA,IAAiB,KAAMb,EAAAA,EAAAA,IAAiBK,EAAOS,MAAO,IACrD,GAAIpE,QAEP,OACH,KAAM,CACP,CAACqE,EAAAA,IAASrD,EAAQW,QAAUL,EAAYK,UAE1C0B,EAAAA,EAAAA,KAAgBnD,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/CA,EAAAA,EAAAA,GAAoB,IAAKG,EAAY,aAAciD,EAAAA,EAAAA,IAAiBvC,EAAMY,OAAS,OAAQ2B,EAAAA,EAAAA,IAAiBlC,EAAKO,MAAMN,UAAUkC,QAAS,IACzI,KAAM,CACP,CAACc,EAAAA,GAAQrD,EAAQW,UAEnB0B,EAAAA,EAAAA,KAAgBnD,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/CA,EAAAA,EAAAA,GAAoB,MAAOI,EAAa,EACtCJ,EAAAA,EAAAA,GAAoB,KAAMK,GAAa+C,EAAAA,EAAAA,IAAiBlC,EAAKO,MAAMnC,MAAO,IAC1EU,EAAAA,EAAAA,GAAoB,IAAKM,GAAa8C,EAAAA,EAAAA,IAAiBlC,EAAKO,MAAM2C,aAAc,IAChFpE,EAAAA,EAAAA,GAAoB,SAAU,CAC5B4D,QAASnB,EAAO,KAAOA,EAAO,GAAMqB,GAAiB1C,EAAYK,OAAQ,IACxE,YAEJ,KAAM,CACP,CAAC0C,EAAAA,GAAQ/C,EAAYK,YAGzB4C,EAAG,YC3HX,MAAMC,EAAc,EAEpB","sources":["webpack://quiz/./src/composables/useGuard.ts","webpack://quiz/./src/views/QuizView.vue?9e2b","webpack://quiz/./src/views/QuizView.vue"],"sourcesContent":["import { watch } from \"vue\";\nimport router from \"@/router\";\nimport { useUserStore } from \"@/composables/store/useUserStore\";\n\nexport function useGuard() {\n  const store = useUserStore();\n  return (func: (...args: any[]) => void) => {\n    if (!store.refreshToken) {\n      router.push({ name: \"home\" });\n      return;\n    }\n    if (store.token) {\n      func();\n      return;\n    }\n    watch(\n      () => store.token,\n      (token) => (token ? func() : router.push({ name: \"home\" }))\n    );\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"quiz-wrapper\" }\nconst _hoisted_2 = { class: \"quiz\" }\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = { class: \"question-wrapper\" }\nconst _hoisted_5 = { class: \"counter\" }\nconst _hoisted_6 = { class: \"question\" }\nconst _hoisted_7 = [\"onClick\", \"disabled\"]\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"input\", {\n  hidden: \"\",\n  type: \"radio\",\n  name: \"answer\"\n}, null, -1)\nconst _hoisted_9 = { class: \"score\" }\nconst _hoisted_10 = { class: \"start-card-content\" }\nconst _hoisted_11 = { class: \"start-card-text\" }\nconst _hoisted_12 = { class: \"start-card-text\" }\n\nimport { Ref, ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useGuard } from \"@/composables/useGuard\";\nimport CardComponent from \"@/components/CardComponent.vue\";\nimport { Quiz } from \"@/types/quiz.interfaces\";\nimport axios from \"axios\";\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst onGuard = useGuard();\nconst currentQuestionIndex = ref(0);\nconst currentQuestion = ref({});\nconst score = ref(0);\nconst isEnded = ref(false);\nconst isDisabled = ref(false);\nconst route = useRoute();\nconst quiz: Ref<Quiz> = ref({ questions: [] });\nconst isStartCard = ref(true);\n\nonMounted(() => {\n  fetchQuiz();\n});\n\nconst checkAnswer = (answerIndex) => {\n  isDisabled.value = true;\n  if (answerIndex == currentQuestion.value.correctAnswer) {\n    score.value++;\n    currentQuestion.value.answers[answerIndex].class = \"right\";\n  } else {\n    currentQuestion.value.answers[answerIndex].class = \"wrong\";\n  }\n  setTimeout(() => {\n    getNextQuestion();\n  }, 500);\n};\n\nconst getNextQuestion = () => {\n  if (quiz.value.questions[currentQuestionIndex.value + 1] == undefined) {\n    isEnded.value = true;\n  } else {\n    isDisabled.value = false;\n    currentQuestionIndex.value++;\n    currentQuestion.value = quiz.value.questions[currentQuestionIndex.value];\n  }\n};\nconst fetchQuiz = async () => {\n  try {\n    const response = await axios.get(\n      `${process.env.VUE_APP_API_URL}/api/v1/quiz/${route.params.id}`\n    );\n    quiz.value = response.data.data;\n    console.log(response.data.data); // TODO: set image\n    currentQuestion.value = quiz.value.questions[currentQuestionIndex.value];\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(CardComponent, null, {\n        image: _withCtx(() => [\n          _createElementVNode(\"img\", {\n            alt: \"cat\",\n            src: isStartCard.value ? quiz.value.image : currentQuestion.value.image\n          }, null, 8, _hoisted_3)\n        ]),\n        default: _withCtx(() => [\n          _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"div\", _hoisted_5, _toDisplayString(currentQuestionIndex.value + 1) + \" / \" + _toDisplayString(quiz.value.questions.length), 1),\n            _createElementVNode(\"h3\", _hoisted_6, _toDisplayString(currentQuestion.value.question), 1),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(currentQuestion.value.answers, (answer, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"answers-wrapper\",\n                key: answer\n              }, [\n                _createElementVNode(\"label\", {\n                  onClick: _withModifiers(($event: any) => (checkAnswer(index)), [\"prevent\"]),\n                  class: _normalizeClass([\"answers button\", answer.class]),\n                  disabled: isDisabled.value\n                }, [\n                  _hoisted_8,\n                  _createTextVNode(\" \" + _toDisplayString(answer.text), 1)\n                ], 10, _hoisted_7)\n              ]))\n            }), 128))\n          ], 512), [\n            [_vShow, !isEnded.value && !isStartCard.value]\n          ]),\n          _withDirectives(_createElementVNode(\"div\", null, [\n            _createElementVNode(\"p\", _hoisted_9, \" You got \" + _toDisplayString(score.value) + \" / \" + _toDisplayString(quiz.value.questions.length), 1)\n          ], 512), [\n            [_vShow, isEnded.value]\n          ]),\n          _withDirectives(_createElementVNode(\"div\", null, [\n            _createElementVNode(\"div\", _hoisted_10, [\n              _createElementVNode(\"h2\", _hoisted_11, _toDisplayString(quiz.value.name), 1),\n              _createElementVNode(\"p\", _hoisted_12, _toDisplayString(quiz.value.description), 1),\n              _createElementVNode(\"button\", {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (isStartCard.value = false))\n              }, \"Start\")\n            ])\n          ], 512), [\n            [_vShow, isStartCard.value]\n          ])\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./QuizView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuizView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuizView.vue?vue&type=style&index=0&id=7306fe70&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useGuard","store","useUserStore","func","refreshToken","token","watch","router","name","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_createElementVNode","hidden","type","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_defineComponent","setup","__props","currentQuestionIndex","ref","currentQuestion","score","isEnded","isDisabled","route","useRoute","quiz","questions","isStartCard","onMounted","fetchQuiz","checkAnswer","answerIndex","value","correctAnswer","answers","setTimeout","getNextQuestion","undefined","async","response","axios","params","id","data","console","log","error","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","CardComponent","image","_withCtx","alt","src","default","_withDirectives","_toDisplayString","length","question","_Fragment","_renderList","answer","index","key","onClick","_withModifiers","$event","_normalizeClass","disabled","_createTextVNode","text","_vShow","description","_","__exports__"],"sourceRoot":""}